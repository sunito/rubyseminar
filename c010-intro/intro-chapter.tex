 
\documentclass{beamer}

\input{gemeinsam.tex}

\begin{document}
\lstset{language=Ruby}
\lstset{basicstyle=\small,numbers=none, numberstyle=\tiny, numbersep=5pt}


\begin{frame}
\titlepage
\end{frame}

\begin{frame}{Einführung}
\frametitle{Was ist Ruby?}

\begin{center}
''Actually, I'm trying to make Ruby natural, not simple.'' 
\end{center}
\begin{flushright}
\emph{Yukihiro ''matz'' Matsumoto}
\end{flushright}



\begin{itemize}
\pause \item Sprache ausdrucksstark\pause, ''natürlich''\pause, flexibel\pause, ''schön''
\pause \item Konsequent objektorientiert (''everything is an object'')
\pause \item Dynamische Typisierung (''duck typing'')
\pause \item Closures, Metaprogrammierung, offene Klassen
\pause \item Nachteile: (noch) relativ geringe Verbreitung\pause,  langsam\pause, 
              schlechte Thread-Unterstutzung
\end{itemize}
\end{frame}

%\begin{frame}[containsverbatim]
\begin{frame}[fragile]
  \frametitle{Hallo Welt}
  \begin{itemize}[<+->]
  \item nil
  \item 17
  \item 17 + 4
  \item i = 123
  \item i + 1000
  \item text = "welt"
  \item \verb|"hallo " + text + "!"|
  \item \verb|"hallo #{text}!"| \hspace{5em}  (``String-Interpolation'')
  \item \verb|[1, 2, 3]|
  \end{itemize}
%  \pause
%  \lstinline|  "hallo #{text}!"| \hspace{5em}  (``String-Interpolation'')
  \pause
  Syntaktischer Hauptbestandteil in Ruby sind Ausdrücke ($Expression$s).\\
  Jeder Ausdruck hat beim Ausführen einen Wert. \\
  
  In Ruby gilt: Alle Werte sind Objekte.\\
  Es gibt keine anderen Werte.

\end{frame}

\begin{frame}[fragile]
  \frametitle{Direktes Ausprobieren von Ruby}
  \begin{center}
   {\LARGE irb}\\
   
   \bigskip
   ''interactive ruby''
   \bigskip
   \bigskip
   \bigskip
   \bigskip
   
  \end{center}
   \verb|[shell]$| \verb|irb|

\end{frame}

\begin{frame}[fragile]
  \frametitle{Ausdrücke und Werte}
  \begin{tabular}[t]{l@{\hspace{5em}$\longrightarrow$\hspace{5pt}}l}
    %{\em Ausdruck}      &   {\em Wert }  \\
    \verb|1|                   &   \verb|1|  \\ \pause
    \verb|1 + 2|               &   \verb|3|  \\ \pause
    \verb|"1" + "2"|           &   \verb|"12"|  \\ \pause
    \verb|a = 2|               &   \verb|2|  \\ \pause
    \verb|1+2; 10+20; 17+4|    &   \verb|21|  \\ \pause
    \verb|[1, 2]|              &   \verb|[1, 2]|  \\ \pause
    \verb|[1, 2] + [5, 6]|     &   \verb|[1, 2, 5, 6]|  \\ \pause
    \verb|["a", "b"]|          &   \verb|["a", "b"]|  \\ \pause
    \verb|%w[a b]|             &   \verb|["a", "b"]|  
  \end{tabular}
  
\end{frame}

\begin{frame}[fragile]
  \frametitle{Namen / Variablen}
  Werte können einem Namen (d.h. einer Variblen) zugewiesen werden. 
  
  Es gibt verschiedene Arten von Variablen.\\
  Diese werden syntaktisch unterschieden.
  
  \begin{tabular}[t]{l@{\hspace{5em}$\longrightarrow$}l}
    %{\em Ausdruck}      &   {\em Wert }  \\
    \verb|a = 1|       &   lokale Variable  \\
    \verb|$a = 1|      &   globale Variable  \\    
    \verb|PI = 3.14|   &   Konstante  \\
    \verb|@a = 1|      &   Instanz-Variable  \\
    \verb|@@a = 1|    &   Klassen-Variable  \\
  \end{tabular}
  
  Alles, was einer Variablen zugewiesen werden kann, ist ein Objekt.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Methodenaufrufe}
  
  An Objekte können Methoden gesendet werden. 
  Dies wird syntaktisch über den Punkt eingeleitet.
  
    \begin{center}
    \lstinline|receiver.methodenname|     
    \end{center}


  \begin{tabular}[t]{l@{\hspace{1em}$\longrightarrow$\hspace{2pt}}l@{\hspace{2em}}l}
    %{\em Ausdruck}      &   {\em Wert }  \\
    \verb|1.succ|         &   \verb|2|       & (Nachfolger)     \\ \pause
    \verb|1.odd?|         &   \verb|true|    & (ungerade)     \\ \pause
    \verb|1.class|        &   \verb|Fixnum|  & (Typ, Klasse)\\ \pause
    \verb|"ab".succ|      &   \verb|"ac"|     \\ \pause
    \verb|"ab".class|     &   \verb|String|  \\ \pause
    \verb|"ab".size|      &   \verb|2|       & (Länge) \\ \pause
    \verb|[5,7].size|     &   \verb|2|      & (Anzahl d. Elemente) \\ \pause
    \verb|[5,7,4].max|    &   \verb|7|      & (größtes Element) \\ \pause
    \verb|%w[b f e].max|  &   \verb|"f"|      &  \\ \pause
    \verb|"a=b".split("=")|      &   \verb|["a", "b"]|       & (Länge) 
  \end{tabular}
  
  
\end{frame}


\begin{frame}[fragile]
  \frametitle{Methoden-Syntax}
  Klammersetzung bei Methoden-Parametern ist optional:
  
  \verb|"a=b".split("=")| \pause
  
  \verb|"a=b".split "="| \pause
  
  \smallskip
  \verb|puts "hallo"| \pause
  
  \verb|puts("hallo")| \pause
  
  
  \medskip 
  In Ruby sind auch Operatoren über Methoden-Aufrufe realisiert.
  \pause
  
  \medskip
  \begin{center}

  \verb|3 + 4 | \pause
  
  \verb|3.+ 4 | \pause
  
  \verb|3.+(4)| \pause
   
  \end{center}
  
  
  
  
\begin{comment}  
 
  Methoden-Definition
  \begin{lstlisting}
  def dreifach(wert)
    wert * 3
  end
  \end{lstlisting}
  \pause
  Methoden-Aufruf
  \begin{lstlisting}
  puts dreifach(2) 
  \end{lstlisting}
  $\longrightarrow$ 6
  \begin{lstlisting}
  def dreifach wert 
    wert * 3
  end
  \end{lstlisting}
  \pause
  \begin{lstlisting}
  puts dreifach(2) 
  puts dreifach 2 
  \end{lstlisting}
  \pause
  \begin{lstlisting}
  puts(dreifach(2)) 
  \end{lstlisting}
\end{comment}
\end{frame}



\end{document}
